<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Blossom English - 소단원 선택</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
        "Pretendard", "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
    }
    body {
      background: #f3f4f6;
      color: #111827;
      min-height: 100vh;
    }
    .page {
      max-width: 1100px;
      margin: 0 auto;
      padding: 40px 16px 60px;
    }
    .top-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    h1 {
      font-size: 30px;
      font-weight: 800;
    }
    .stage-label {
      font-size: 14px;
      color: #6b7280;
      text-align: right;
    }
    .subtitle {
      font-size: 15px;
      color: #6b7280;
      margin-bottom: 20px;
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      color: #4b5563;
      text-decoration: none;
      background: #e5e7eb;
      padding: 8px 14px;
      border-radius: 999px;
      margin-bottom: 18px;
      transition: background 0.12s ease, transform 0.12s ease;
    }
    .back-link:hover {
      background: #d1d5db;
      transform: translateY(-1px);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      gap: 10px 14px;
      max-width: 800px;
    }
    .small-tile {
      background: #ffffff;
      border-radius: 18px;
      padding: 12px 0;
      text-align: center;
      font-size: 15px;
      font-weight: 600;
      color: #111827;
      text-decoration: none;
      box-shadow: 0 10px 22px rgba(15, 23, 42, 0.08);
      border: 1px solid #e5e7eb;
      transition: transform 0.12s ease, box-shadow 0.12s ease,
        background 0.12s ease, border-color 0.12s ease;
    }
    .small-tile:hover {
      transform: translateY(-2px);
      background: #eef2ff;
      border-color: #bfdbfe;
      box-shadow: 0 14px 30px rgba(15, 23, 42, 0.14);
    }
    @media (max-width: 640px) {
      .page { padding-top: 28px; }
      h1 { font-size: 24px; }
      .grid { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
  </style>
</head>
<body>
<div class="page">
  <div class="top-row">
    <h1>어휘 학습</h1>
    <div class="stage-label" id="stageLabel"></div>
  </div>

  <div class="subtitle" id="subtitle"></div>

  <a class="back-link" id="backLink" href="#">
    <span>◀</span> 유닛 선택으로
  </a>

  <div class="grid" id="lessonGrid"></div>
</div>

<script>
  const params = new URLSearchParams(window.location.search);
  const stage = params.get("stage") || "1";
  const unit = params.get("unit") || "1";

  const stageNames = {
    "1": "1단계",
    "2": "2단계",
    "3": "3단계",
    "4": "학교 시험",
  };

  const stageLabel = document.getElementById("stageLabel");
  const subtitle = document.getElementById("subtitle");
  const backLink = document.getElementById("backLink");
  const grid = document.getElementById("lessonGrid");

  const stageName = stageNames[stage] || "1단계";

  stageLabel.textContent = `${stageName}`;
  subtitle.textContent = `${stageName} / Unit ${unit} 안에서 학습할 번호를 선택하세요.`;

  backLink.href = `units.html?stage=${stage}`;

  // 1-1 ~ 1-60
  const LESSON_COUNT = 60;

  for (let i = 1; i <= LESSON_COUNT; i++) {
    const lessonId = `${unit}-${i}`;   // 예: unit=1 → 1-1, 1-2, ...
    const a = document.createElement("a");
    a.className = "small-tile";
    a.textContent = lessonId;
    // 학습 화면으로 이동 (나중에 이 페이지에서 단어 데이터를 불러올 때 key로 사용)
    a.href = `learning-mode.html?stage=${stage}&unit=${unit}&lesson=${lessonId}`;
    grid.appendChild(a);
  }
</script>
</body>
</html>